# ランニングコスト試算（Running Cost Estimation）

本プロジェクトで提案する「AWSネイティブ＋ローカル実行」アーキテクチャにかかるランニングコスト（AWS利用料主体）の概算です。

## 1. コスト算出の前提事項
- **利用AI**: Amazon Bedrock (Claude 3.5 Sonnet v2) 
- **1手順書（1ジョブ）の規模**: 
  - 画像数: 50枚（大規模な環境構築を想定）
  - 画像解像度: FullHDクラス（AI側でリサイズ処理が入るため、1枚あたり約1,500トークンと仮定）
  - 入力テキスト（ログ等）: 約5,000トークン
  - 出力テキスト（生成されるMarkdown手順書）: 約3,000トークン
- **利用頻度**: 1ヶ月あたり 100件の手順書作成（エンジニアチーム全体での利用を想定）
- **利用リージョン**: 東京（ap-northeast-1）または オレゴン（us-west-2）等、利用可能なリージョン

---

## 2. コスト試算（Claude 3.5 Sonnet）

Amazon Bedrock経由での Claude 3.5 Sonnet の料金単価（※2024年時点の大まかな目安、変動あり）：
- 入力（Input）単価: $0.003 / 1,000トークン
- 出力（Output）単価: $0.015 / 1,000トークン

### 2-1. 1ジョブ（1つの手順書作成）あたりのトークン数・コスト
*   **画像トークン (Input)**: 1,500 トークン × 50枚 = **75,000 トークン**
*   **テキストトークン (Input)**: ログ等 = **5,000 トークン**
*   **テキストトークン (Output)**: 生成結果 = **3,000 トークン**

*   **1ジョブあたりのコスト（USD）**:
    *   Input: (75,000 + 5,000) / 1,000 * 0.003 = **$0.24**
    *   Output: 3,000 / 1,000 * 0.015 = **$0.045**
    *   **合計: $0.285** (約 40円〜45円 ※150円/USD想定)

### 2-2. 月間運用コスト（100件/月の場合）
*   100ジョブ × $0.285 = **$28.5 / 月** （約 4,200円〜4,500円）

---

## 3. その他のAWSリソースコスト

| リソース | 用途 | 概算コスト (月額) |
|---|---|---|
| **AWS Secrets Manager** | ツールの認証情報保存 | $0.40/シークレット + $0.05/1万リクエスト。<br>**ほぼ無料（$1未満）** |
| **Amazon S3** (※オプション) | 中間画像の一時退避や完成ドキュメント保存 | 100件で数GB程度。**ほぼ無料（数円〜数十円）** |
| **AWS Lambda** (※オプション) | 今後、API化や共有フォルダ監視型に拡張した場合 | 1回数秒の実行が100回。**無料枠内に収まる想定。** |

---

## 4. コスト評価と他社ツール比較

### 結論：極めて低ランニングコスト（数十円 / 1手順書）

**「1つの大規模（50ステップ）な手順書を、エンジニアが数時間かけて手書きする代わりに、約40円のAI API代で一瞬で出力できる」**という計算になります。

### 商用ツールとの優位性
Scribe や Tango などの有償ツール（エンタープライズ版）をエンジニア全員に配布する場合、通常 **「ユーザー1人あたり $10〜$30/月」** の固定ライセンス費用がかかります。

当アーキテクチャ（Bedrock直叩き）であれば、**「完全な従量課金」**となるため、使った分（APIのトークン代）しかコストがかからず、使わない人のライセンス費用がムダになることはありません。全社配布に向けた社内説得において、非常に強力なコスト優位性となります。

---
📝 *※ 上記は Claude 3.5 Sonnet を使用した場合の試算です。より安価な Claude 3 Haiku 等を使用すれば、コストはさらに 1/5 程度まで下がりますが、画像（UI）の認識精度とのトレードオフになります。PoCにてHaikuの検証も推奨します。*
