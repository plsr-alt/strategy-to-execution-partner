# 方式比較（Comparison Matrix）

本プロジェクトにおける「AI UI認識方式」の3方式を比較する。

## 比較マトリクス表

| 比較軸 | 方式1: A11y / DOM優先 + AI補正 | 方式2: Vision × DOMハイブリッド | 方式3: Visionのみ Agent |
|--------|------------------------------|-------------------------------|-----------------------|
| **要件充足度** | ○ (変更小〜中には強い) | ◎ (高精度な認識と確実な操作) | △ (柔軟だが確実性が低い) |
| **実装難易度** | 低〜中 | 高 (DOMと画像の座標マッチングが必要) | 高 (モデル連携の抽象化が必要) |
| **初期コスト** | 低 (既存OSS中心) | 中 (マルチモーダルAPI通信が発生) | 高 (大量の画像API呼び出しが発生) |
| **運用負荷** | 中 (DOM大幅変更で修正要) | 低 | 低 (プロンプトのみ) |
| **UI変更耐性 / 自己修復性**| 中 (ID/Class変更には対応) | ◎ (見た目と構造両方で補正) | ◎ (見た目だけで判断) |
| **誤操作リスク**| 低 (DOMで要素を一意に特定) | 低 (要素特定が多角的なため) | **高** (座標ズレによる誤クリック) |
| **監査性** | ◎ (DOMセレクタのログが残る) | ○ (DOM+画像のログ) | △ (画像のどこをクリックしたかのみ) |
| **認証の扱いやすさ** | ○ (既存自動化ツールと親和性高) | ○ | △ (人手介入への引継ぎが困難) |
| **セキュリティ / PII** | ○ (DOM内の特定要素だけマスク可能) | △ (画像全体をLLMに送る必要あり) | △ (画像全体をLLMに送る必要) |
| **スケーラビリティ**| ◎ (軽量・高速) | ○ (ややAPI通信の遅延あり) | △ (時間がかかりトークン消費大) |
| **失敗時の復旧性**| ◎ (明確なステップで止まる) | ◎ | △ (状態把握が画像のみで困難) |

## TSV形式データ (Excel貼付用)
```tsv
比較軸	方式1: A11y/DOM優先+AI補正	方式2: Vision×DOMハイブリッド	方式3: Visionのみ Agent
要件充足度	○	◎	△
実装難易度	低〜中	高	高
初期コスト	低	中	高
運用負荷	中	低	低
UI変更耐性/自己修復性	中	◎	◎
誤操作リスク	低	低	高
監査性	◎	○	△
認証の扱いやすさ	○	○	△
セキュリティ/PII	○	△	△
スケーラビリティ	◎	○	△
失敗時の復旧性	◎	◎	△
```
