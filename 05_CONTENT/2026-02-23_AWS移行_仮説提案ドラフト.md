# AWS移行案件 — 仮説立案と提案骨子（ドラフト）
_作成: 2026-02-23 / 提出期限: 2026-02-24_

本資料は、現状の公開情報と「AWS移行案件 — グループ会社 基幹システム＆ファイルサーバー」のメモを元に、Antigravityが作成した仮説および提案の骨子です。明日の提出に向けた「叩き台」としてご活用ください。

---

## 1. 移行の最有力シナリオ（仮説）

現状の資料から、以下の「パターンA」が最も現実的かつメリットが大きいと推測します。

### 【仮説：パターンA】 SnapMirror直接移行
*   **前提**: 移行元の Azure FS が **Azure NetApp Files (ANF)** である。
*   **理由**: 
    *   FSx for NetApp ONTAP が移行先として指定されているため、ONTAP同士のネイティブ機能である SnapMirror が最も確実で高速。
    *   NTFS権限やメタデータの保持が容易で、小ファイル問題（数百万件）への耐性が高い。
*   **懸念点**: Azure↔AWS 間の VPN/DirectConnect 等のネットワーク経路が未整備の場合、その構築が先行クリティカルパスになる。

---

## 2. 顧客への提案骨子案（ドラフト）

### スライド構成案（3枚抜粋）

#### Slide A: 最適な移行アプローチの提案
> 「AWSネイティブかつ安定した ONTAP テクノロジーを活用し、リスクを最小化した移行を実現します。」
*   **提案**: SnapMirror によるストレージレベルのレプリケーション。
*   **メリット**:
    *   **高精度**: ファイル権限 (NTFS ACL) を維持したまま移行可能。
    *   **低ダウンタイム**: 継続的な差分同期により、切り替え時の停止時間を数分〜数十分に短縮。
    *   **低リスク**: AWS/NetApp 公式の移行パスを使用。

#### Slide B: 見積もりおよび精度のための「3つの確認事項」
> 「明日の段階で概算を提示するため、以下の3点について優先的にご確認をお願いします。」
1.  **現行FSの種別**: Azure NetApp Files (ANF) を使用されていますか？
2.  **NW経路の有無**: Azure と AWS の間に現在専用線や VPN はありますか？
3.  **ダウンタイムの許容**: 本番切り替え時に、システムを何時間停止可能ですか？

#### Slide C: プロジェクトロードマップ（案）
*   **W1-W2**: 詳細ヒアリング・環境アセスメント
*   **W3-W4**: AWS環境構築（VPC/FSx ONTAP）および NW 疎通確認
*   **W5-W8**: 初期データ同期・差分レプリケーション
*   **W9**: ユーザー受入テスト (UAT) ・本番切り替え

---

## 3. 明日の期限に向けた Antigravity の支援可能範囲

1.  **ヒアリングシートのブラッシュアップ**: チェックリストを「回答しやすい選択肢形式」に整形します。
2.  **概算コスト試算のサポート**: 容量・ネットワーク帯域の仮定に基づいた AWS 利用費用の試算。
3.  **提案資料（Markdown/PowerPoint案）の作成**: 社内提出用、または顧客提示用のドラフト作成。

---
> [!TIP]
> 移行元が ANF ではなく Windows VM 上のファイルサーバーだった場合、AWS DataSync を使用する「パターンB」へ即座に切り替えられるよう、比較表の準備は済んでいます。
